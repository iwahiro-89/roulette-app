"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{4300:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(5893),i=n(7294),s=n(9069),l=n(1733),o=n(6886),a=n(5861),c=n(4054),d=n(2466),u=n(3946),x=n(8462),h=n(891),m=n(9953),j=n(3321),p=n(7357),Z=n(44),g=n(5670),b=n(7225),f=n(5050),C=n(619),P=n(2964),v=n(725),S=n.n(v),k=n(2641);let y=["#FFFFFF"];function w(e){let{members:t,backgroundColors:n,startRoll:s,stopRoll:l}=e,[a,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(0),x=(0,i.useRef)(!1),h=()=>{x.current||(x.current=!0,m(),s())},m=()=>{let e=Math.floor(Math.random()*t.length);u(e),c(!0)};return(0,r.jsxs)(o.ZP,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[(0,r.jsx)(o.ZP,{item:!0,xs:2,children:(0,r.jsx)(j.Z,{variant:"contained",onClick:h,sx:{mr:2},children:"Go!"})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:t.length>0&&(0,r.jsx)(k.Wheel,{mustStartSpinning:a,prizeNumber:d,data:t,backgroundColors:n,textColors:y,fontSize:19,outerBorderColor:"#eeeeee",outerBorderWidth:10,innerRadius:0,innerBorderColor:"#30261a",innerBorderWidth:0,radiusLineColor:"#eeeeee",radiusLineWidth:8,textDistance:60,onStopSpinning:()=>{c(!1),l(),x.current=!1}})})]})}var F=n(629),R=n(3198),I=n.n(R),A=function(e){let{members:t,backgroundColors:n}=e,[s,l]=(0,i.useState)(1),[a,c]=(0,i.useState)([]),u=()=>{c(I()(t.map(e=>e.option)))};return(0,r.jsxs)(o.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,r.jsxs)(o.ZP,{item:!0,xs:6,children:[(0,r.jsx)(d.Z,{id:"standard-number",label:"チーム数(最大4)",type:"number",defaultValue:1,InputProps:{inputProps:{max:4,min:1}},variant:"standard",style:{width:100},onChange:e=>l(Number(e.target.value))}),(0,r.jsx)(j.Z,{variant:"contained",onClick:u,sx:{ml:2},children:"Go!"})]}),0!==a.length&&[...Array(s)].map((e,t)=>(0,r.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,r.jsxs)("h3",{children:["チーム",t+1]}),(0,r.jsx)(o.ZP,{container:!0,children:a.map((e,i)=>t===i%s&&(0,r.jsx)(o.ZP,{item:!0,xs:4,children:(0,r.jsx)(F.Z,{sx:{m:1,backgroundColor:n[t%4],color:"white",textAlign:"center",whiteSpace:"nowrap",height:60,lineHeight:"60px"},children:e},e)},e))})]},t))]})},B=n(1557),N=function(e){let{members:t,startRollAndStop:n}=e,[s,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{l(t)},[t]);let a=async()=>{n();for(let e=0;e<5;e++)l(I()(t)),await new Promise(e=>setTimeout(e,2e3))};return(0,r.jsxs)(o.ZP,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[(0,r.jsx)(o.ZP,{item:!0,xs:2,children:(0,r.jsx)(j.Z,{variant:"contained",onClick:a,sx:{mr:2},children:"Go!"})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(B.U5,{flipKey:s.map(e=>e.option).join(""),children:s.map((e,t)=>(0,r.jsx)(B.$3,{flipId:e.option,children:(0,r.jsxs)(p.Z,{sx:{width:250,height:45,backgroundColor:"#FFF",color:"#6091d3",fontWeight:"bold",borderRadius:2,border:3,borderColor:"#6091d3",textAlign:"center",lineHeight:2.5,mt:3},children:[t+1," : ",e.option]})},e.option))})})]})};let W=()=>{let[e,t]=(0,i.useState)(()=>{let e=localStorage.getItem("personList"),t=JSON.parse(e||"[]");return t});(0,i.useEffect)(()=>{localStorage.setItem("personList",JSON.stringify(e))},[e]);let n=(0,i.useCallback)(n=>t([...e,n]),[e]),r=(0,i.useCallback)(n=>{let r=[...e];r.splice(n,1),t(r)},[e]),s=(0,i.useCallback)(()=>t([]),[e]);return[e,{addMember:n,deleteMember:r,resetMember:s}]},E=["#ff8f43","#70bbe0","#0b3351","#A1341B"];function z(){let[e,t]=(0,i.useState)(""),[n]=(0,C.Z)("assets/roll.mp3"),[v]=(0,C.Z)("assets/stop.mp3"),{width:k,height:y}=(0,P.Z)(),[F,R]=(0,i.useState)(!1),I=(0,i.useRef)(null),[B,z]=(0,i.useState)(!1),[L,_]=(0,i.useState)(""),[G,T]=(0,i.useState)("1"),[D,{addMember:H,deleteMember:J,resetMember:K}]=W(),M=(e,t)=>{T(t)},O=e=>{t(e.target.value)},U=()=>{if(""===e){z(!0),_("入力必須です");return}if(-1!==D.findIndex(t=>{let{option:n}=t;return n===e})){z(!0),_("同じ名前が存在します");return}t(""),z(!1),_(""),H({option:e})},V=e=>{J(e)},$=()=>{K()},q=()=>{n(),R(!1)},Q=()=>{v(),R(!0)},X=async()=>{R(!1),n();for(let e=0;e<5;e++)await new Promise(e=>setTimeout(e,2e3));v(),R(!0)};return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(o.ZP,{container:!0,justifyContent:"center",spacing:2,children:[(0,r.jsxs)(o.ZP,{item:!0,xs:5,children:[(0,r.jsx)(a.Z,{sx:{mt:4,mb:2},variant:"h6",component:"div",children:"候補者を入力してください。"}),(0,r.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(o.ZP,{item:!0,xs:7,children:(0,r.jsx)(c.Z,{fullWidth:!0,children:(0,r.jsx)(d.Z,{id:"inputPerson",label:"候補者",variant:"standard",value:e,onChange:O,onKeyDown:e=>{"Enter"===e.key&&13===e.keyCode&&U()},error:B,inputRef:I,helperText:L})})}),(0,r.jsx)(o.ZP,{item:!0,xs:2,children:(0,r.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",size:"large",edge:"start",onClick:U,children:(0,r.jsx)(s.Z,{})})})]}),(0,r.jsx)(a.Z,{sx:{mt:4,mb:2},variant:"h6",component:"div",children:"候補者リスト"}),(0,r.jsxs)(o.ZP,{item:!0,xs:8,children:[(0,r.jsx)(x.Z,{children:D.map((e,t)=>(0,r.jsx)(h.ZP,{divider:!0,secondaryAction:(0,r.jsx)(u.Z,{edge:"end","aria-label":"delete",onClick:()=>V(t),children:(0,r.jsx)(l.Z,{})}),children:(0,r.jsx)(m.Z,{primary:e.option})},e.option))}),(0,r.jsx)(j.Z,{size:"small",variant:"contained",onClick:$,sx:{mt:1},children:"Reset"})]})]}),(0,r.jsx)(o.ZP,{item:!0,xs:7,children:(0,r.jsxs)(g.ZP,{value:G,children:[(0,r.jsx)(p.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(b.Z,{onChange:M,centered:!0,children:[(0,r.jsx)(Z.Z,{value:"1",label:"ルーレット"}),(0,r.jsx)(Z.Z,{value:"2",label:"チーム決め"}),(0,r.jsx)(Z.Z,{value:"3",label:"順番決め"})]})}),(0,r.jsx)(f.Z,{value:"1",children:(0,r.jsx)(w,{members:D,backgroundColors:E,startRoll:q,stopRoll:Q})}),(0,r.jsx)(f.Z,{value:"2",children:(0,r.jsx)(A,{members:D,backgroundColors:E})}),(0,r.jsx)(f.Z,{value:"3",children:D.length>0&&(0,r.jsx)(N,{members:D,startRollAndStop:X})})]})})]}),F&&(0,r.jsx)(S(),{width:k,height:y,recycle:!1})]})}}}]);